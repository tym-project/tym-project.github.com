
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Scripter la création d'un mot de passe utilisateur (Linux) - ツ Tym-Project</title>
  <meta name="author" content="Tym">

  
  <meta name="description" content="Parce-que je réinstalle souvent mon
Archlinux, j&#8217;ai créé une série de scripts pour me simplifier la vie. Dans ce
processus (que je vous &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tym-project.github.com/2009/08/23/scripter-la-creation-dun-mot-de-passe-utilisateur-linux/">
  <link href="/tymproject/favicon.png" rel="icon">
  <link href="/tymproject/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/tymproject/javascripts/modernizr-2.0.js"></script>
  <script src="/tymproject/javascripts/ender.js"></script>
  <script src="/tymproject/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/tym-project" rel="alternate" title="ツ Tym-Project" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8347381-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/tymproject/">ツ Tym-Project</a></h1>
  
    <h2>From: SUPINFO<br>To: Tous<br>Subject: IT</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/tym-project" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tym-project.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/tymproject/">Blog</a></li>
  <li><a href="/tymproject/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Scripter La Création D'un Mot De Passe Utilisateur (Linux)</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-23T23:14:34+00:00" pubdate data-updated="true">Aug 23<span>rd</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Parce-que je réinstalle souvent mon
Archlinux, j&#8217;ai créé une série de scripts pour me simplifier la vie. Dans ce
processus (que je vous présenterai quand il sera finalisé) je dois créer mon
utilisateur. Mais comment faire pour ne pas avoir à donner mon mot de passe de
manière interactive ?</p>

<!-- more -->


<p>Je n&#8217;aime pas vraiment que mon mot de passe se ballade
en clair dans mes scripts, je préfère qu&#8217;il soit chiffré ! Il va donc falloir
générer le hash MD5 du mot de passe. Cela se fait avec l&#8217;outil
<code>[man]makepasswd[/man]</code>. Par défaut <code>[man]makepasswd[/man]</code> génère un mot de
passe aléatoire, pour utiliser un mot de passe précis il faut le placer dans
un fichier :</p>

<pre><code>echo "my_password" &gt; password_file
</code></pre>

<p>La commande est ensuite la suivante :</p>

<pre><code>makepasswd --crypt-md5 --clearfrom=password_file &amp;&amp; rm password_file
</code></pre>

<p>On obtient alors notre mode passe chiffré, par exemple
(le cryptage est différent à chaque essai) :</p>

<pre><code>$1$GucAgvG0$JgnpEX9Z4N9LNOP031LN9/
</code></pre>

<p>A partir d&#8217;ici vous pouvez intégrer
ce mot de passe crypté dans un script, il sera (presque) indéchiffrable ! Pour
créer votre utilisateur par exemple :</p>

<pre><code>useradd tym -p $1$GucAgvG0$JgnpEX9Z4N9LNOP031LN9/
</code></pre>

<p>Bon scripting ;-)</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">tym</span></span>

      








  


<time datetime="2009-08-23T23:14:34+00:00" pubdate data-updated="true">Aug 23<span>rd</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/tymproject/blog/categories/bash/'>Bash</a>, <a class='category' href='/tymproject/blog/categories/bash/'>Bash</a>, <a class='category' href='/tymproject/blog/categories/linux/'>Linux</a>, <a class='category' href='/tymproject/blog/categories/linux/'>Linux</a>, <a class='category' href='/tymproject/blog/categories/programmation-scripting/'>Programmation - Scripting</a>, <a class='category' href='/tymproject/blog/categories/sécurité/'>Sécurité</a>, <a class='category' href='/tymproject/blog/categories/sécurité/'>Sécurité</a>, <a class='category' href='/tymproject/blog/categories/mot-de-passe/'>mot de passe</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://tym-project.github.com/2009/08/23/scripter-la-creation-dun-mot-de-passe-utilisateur-linux/" data-via="" data-counturl="http://tym-project.github.com/2009/08/23/scripter-la-creation-dun-mot-de-passe-utilisateur-linux/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/tymproject/2009/08/21/sed-trucs-et-astuces-pour-le-remplacement-et-la-mise-en-memoire-dexpressions/" title="Previous Post: SED, trucs et astuces pour le remplacement et la mise en mémoire d'expressions">&laquo; SED, trucs et astuces pour le remplacement et la mise en mémoire d'expressions</a>
      
      
        <a class="basic-alignment right" href="/tymproject/2009/08/27/utiliser-la-derniere-version-de-makepasswd-sous-archlinux/" title="Next Post: Utiliser la dernière version de "makepasswd" sous Archlinux">Utiliser la dernière version de "makepasswd" sous Archlinux &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/tymproject/2012/08/16/cm9-htc-one-s-boot-loop-et-sdcard/">CyanogenMod 9 sur un HTC One S... entre boot loop et sd-cauchemard</a>
      </li>
    
      <li class="post">
        <a href="/tymproject/2012/07/15/sources-et-organisation-de-flux-rss/">Flux RSS : idées de lecture et méthodes de gestion</a>
      </li>
    
      <li class="post">
        <a href="/tymproject/2012/03/24/android-perte-signal-3g-avec-gps/">Android : perte du signal 3g après activation du GPS</a>
      </li>
    
      <li class="post">
        <a href="/tymproject/2012/03/16/mail-avec-gmail-en-ligne-de-commande-bis/">Un Gmail, une ligne de commande...</a>
      </li>
    
      <li class="post">
        <a href="/tymproject/2012/02/14/ameliorer-son-debit-internet/">Naviguer plus vite sur internet, améliorer son débit ? C'est possible !</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Tym -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'wwwtymprojectfrblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://tym-project.github.com/2009/08/23/scripter-la-creation-dun-mot-de-passe-utilisateur-linux/';
        var disqus_url = 'http://tym-project.github.com/2009/08/23/scripter-la-creation-dun-mot-de-passe-utilisateur-linux/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
