
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Rsync, le protocole qui adore sauvegarder ! - Tym-Project</title>
  <meta name="author" content="Tym">

  
  <meta name="description" content="J&#8217;aime la sauvegarde ! Oui j&#8217;assume, je suis un boulet de la surpression
(parfois Windows me file un coup de pouce aussi&#8230;), alors &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.tym-project.fr/2009/07/15/rsync-le-protocole-qui-adore-sauvegarder/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/tym-project" rel="alternate" title="Tym-Project" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8347381-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Tym-Project</a></h1>
  
    <h2>From: SUPINFO<br>To: Tous<br>Subject: IT</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/tym-project" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.tym-project.fr" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Rsync, Le Protocole Qui Adore Sauvegarder !</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-15T14:27:43+02:00" pubdate data-updated="true">Jul 15<span>th</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>J&#8217;aime la sauvegarde ! Oui j&#8217;assume, je suis un boulet de la surpression
(parfois <a href="http://www.tym-project.fr/blog/2009/04/installez-votre-windows-xp-en-le-rendant-indestructible-2/">Windows me file un coup de pouce</a> aussi&#8230;), alors il faut que je
mette de coté mes données importantes à intervalles réguliers. Pour faire cela
j&#8217;utilise <code>[man]rsync[/man]</code>.</p>

<!-- more -->


<p>C&#8217;est un protocole de synchronisation, mais je
l&#8217;utilise surtout en mode unidirectionnel. Sa grande force c&#8217;est de proposer
une copie &#8220;intelligente&#8221; : il ne transfère que ce qu&#8217;il n&#8217;a pas encore
sauvegardé. En pratique cela veux dire que si vous travaillez sur des fichiers
de petite taille (en dévellopement par exemple), vos sauvegardes seront quasi
instantanées, passé la première (forcément plus longue). Par souci de
confidentialité, <code>[man]rsync[/man]</code> peut utiliser <code>[man]ssh[/man]</code> pour
communiquer avec le serveur. C&#8217;est bien entendu la méthode que je vais vous
montrer.</p>

<p>Avant tout vous devez mettre en place un serveur <code>[man]ssh[/man]</code> qui utilise
des certificats. Vous pouvez suivre <a href="http://www.tym-project.fr/blog/2009/04/installer-un-serveur-ssh-destine-au-tunneling/">ce tutoriel</a> (en omettant toute la
partie &#8220;limitation&#8221; des accès). Comme nous utilisons un tunnel SSH, nous
n&#8217;allons pas utiliser la fonction serveur de <code>[man]rsync[/man]</code>. En fait c&#8217;est
comme si le client et le serveur n&#8217;était qu&#8217;une seule et même machine. Il faut
donc simplement installer le client rsync sur le serveur (allez un effort,
relisez cette phrase, ça va aller&#8230;). Pour Debian :</p>

<pre><code>apt-get update
apt-get install rsync
</code></pre>

<p>Pour Archlinux :</p>

<pre><code>pacman -Sy rsync
</code></pre>

<p>Et&#8230;voila !</p>

<p>Vous pouvez créer un répertoire pour accueillir vos sauvegardes sur le
serveur, idéalement dans votre <code>home</code> (cela simplifiera les commandes coté
client) :</p>

<pre><code>mkdir ~/save
</code></pre>

<p>Et voici un
exemple de commande pour sauvegarder un répertoire :</p>

<pre><code>rsync -avvz -e "ssh -p 443" /home/tym/myprojects my-server.com:save
</code></pre>

<p>L&#8217;option <code>a</code> pour archiver (sauvegarder sans
synchroniser), <code>z</code> pour compresser et <code>vv</code> (verbose) pour avoir plus d&#8217;infos
sur ce qui se passe.</p>

<p>Bonne synchro ;-)</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">tym</span></span>

      








  


<time datetime="2009-07-15T14:27:43+02:00" pubdate data-updated="true">Jul 15<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/linux/'>Linux</a>, <a class='category' href='/blog/categories/linux/'>Linux</a>, <a class='category' href='/blog/categories/os/'>OS</a>, <a class='category' href='/blog/categories/réseau/'>Réseau</a>, <a class='category' href='/blog/categories/sécurité/'>Sécurité</a>, <a class='category' href='/blog/categories/rsync/'>rsync</a>, <a class='category' href='/blog/categories/sauvegarde/'>sauvegarde</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://blog.tym-project.fr/2009/07/15/rsync-le-protocole-qui-adore-sauvegarder/" data-via="" data-counturl="http://blog.tym-project.fr/2009/07/15/rsync-le-protocole-qui-adore-sauvegarder/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2009/07/05/mon-ipod-est-formidable/" title="Previous Post: Mon Ipod est formidable !">&laquo; Mon Ipod est formidable !</a>
      
      
        <a class="basic-alignment right" href="/2009/07/17/monitorer-une-application-sous-linux/" title="Next Post: Monitorer une application sous Linux">Monitorer une application sous Linux &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/10/05/planifier-allumage-nas-readynas/">Planifier librement l'allumage et l'éteignage d'un nas Readynas Ultra 2</a>
      </li>
    
      <li class="post">
        <a href="/2013/04/26/acronis-boot-cd-par-le-reseau/">Installer un serveur PXE sur un ReadyNAS Ultra 2</a>
      </li>
    
      <li class="post">
        <a href="/2013/01/06/android-et-linux-piloter-une-machine-a-distance/">Gérer l'allumage et la mise hors tension d'une machine Linux via un smartphone Android</a>
      </li>
    
      <li class="post">
        <a href="/2012/10/21/icy-box-ib-351-et-linux/">Icy Box IB-351 et Linux</a>
      </li>
    
      <li class="post">
        <a href="/2012/08/16/cm9-htc-one-s-boot-loop-et-sdcard/">CyanogenMod 9 sur un HTC One S... entre boot loop et sd-cauchemard</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Tym -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'wwwtymprojectfrblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.tym-project.fr/2009/07/15/rsync-le-protocole-qui-adore-sauvegarder/';
        var disqus_url = 'http://blog.tym-project.fr/2009/07/15/rsync-le-protocole-qui-adore-sauvegarder/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
